<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Greatness 360</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="icon.png">
    <!-- Add to home screen for Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="icon.png">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #000000;
            color: white;
        }
        .form-card {
            background-color: #000000;
            border: 2px solid #004A93;
            border-radius: 0.5rem;
        }
        .form-header {
            border-bottom: 2px solid #004A93;
        }
        input[type="text"], input[type="date"], textarea, select {
            background-color: #000000;
            border: 1px solid #004A93;
            color: #00AA4F;
        }
        .btn-submit {
            background-color: #00AA4F;
        }
        .btn-submit:hover {
            background-color: #004A93;
        }
        .section-title {
            color: #EE3E76;
        }
        .subsection-title {
            color: #00AA4F;
        }
        .field-label {
            color: #FFDA00;
        }
        /* Custom checkbox styling */
        .custom-checkbox {
            accent-color: #00AA4F;
        }
    </style>
</head>
<body class="min-h-screen p-4">
    <div class="w-full max-w-2xl mx-auto mb-6">
        <div class="h-24 flex items-center justify-center">
            <div class="text-3xl font-bold" style="background: linear-gradient(to right, #EE3E76, #FFDA00, #00AA4F, #004A93); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                Greatness 360
            </div>
        </div>
    </div>

    <div id="user-identification" class="max-w-2xl mx-auto mb-6">
        <div class="form-card p-6">
            <h2 class="text-xl font-semibold mb-4 section-title">Welcome!</h2>
            <p class="mb-4">Please enter your client ID to continue:</p>
            <div class="flex space-x-2">
                <input type="text" id="client-id" class="flex-grow px-3 py-2 rounded-md" placeholder="Your client ID">
                <button id="start-button" class="px-4 py-2 bg-blue-500 text-white rounded-md">Start</button>
            </div>
            <p class="mt-2 text-sm text-gray-400">If you don't have a client ID, please contact Dr. Tricia.</p>
        </div>
    </div>

    <div id="main-form" class="max-w-2xl mx-auto hidden">
        <div class="form-card overflow-hidden">
            <div class="form-header p-4">
                <h1 class="text-2xl font-bold text-[#00AA4F]">Daily Check-in</h1>
                <div class="mt-2 text-sm">
                    <span id="client-name-display"></span>
                </div>
            </div>
            <div class="p-6 space-y-6">
                <form id="greatness-form" class="space-y-6">
                    <!-- Date -->
                    <div>
                        <label class="block text-lg font-medium mb-2 field-label">Date</label>
                        <input
                            type="date"
                            id="date"
                            name="date"
                            class="w-full px-3 py-2 rounded-md"
                            required
                        >
                    </div>

                    <!-- Happy Health Section -->
                    <div class="space-y-4">
                        <h2 class="text-2xl font-semibold section-title">Happy Health</h2>
                        
                        <!-- Proactive Moves Section -->
                        <div class="ml-4 space-y-2">
                            <h3 class="text-lg font-medium subsection-title">Proactive Moves</h3>
                            <div class="space-y-2">
                                <div class="flex items-center space-x-2">
                                    <input 
                                        type="checkbox"
                                        id="exercise"
                                        name="exercise"
                                        class="w-4 h-4 custom-checkbox"
                                    >
                                    <label for="exercise" class="text-blue-400">
                                        Exercise
                                    </label>
                                </div>

                                <div id="exercise-notes-container" class="hidden ml-6">
                                    <input
                                        type="text"
                                        id="exercise-notes"
                                        name="exercise-notes"
                                        placeholder="What exercise did you do today?"
                                        class="w-full px-3 py-2 mt-2 rounded-md"
                                    >
                                </div>

                                <div class="flex items-center space-x-2">
                                    <input 
                                        type="checkbox"
                                        id="vitaminB"
                                        name="vitaminB"
                                        class="w-4 h-4 custom-checkbox"
                                    >
                                    <label for="vitaminB" class="text-blue-400">
                                        Vitamin B
                                    </label>
                                </div>

                                <div class="flex items-center space-x-2">
                                    <input 
                                        type="checkbox"
                                        id="vitaminD"
                                        name="vitaminD"
                                        class="w-4 h-4 custom-checkbox"
                                    >
                                    <label for="vitaminD" class="text-blue-400">
                                        Vitamin D
                                    </label>
                                </div>

                                <div class="flex items-center space-x-2">
                                    <input 
                                        type="checkbox"
                                        id="probiotics"
                                        name="probiotics"
                                        class="w-4 h-4 custom-checkbox"
                                    >
                                    <label for="probiotics" class="text-blue-400">
                                        Probiotics
                                    </label>
                                </div>

                                <div class="flex items-center space-x-2">
                                    <input 
                                        type="checkbox"
                                        id="stillness"
                                        name="stillness"
                                        class="w-4 h-4 custom-checkbox"
                                    >
                                    <label for="stillness" class="text-blue-400">
                                        15 minutes of stillness
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Sleep Section -->
                        <div class="ml-4 space-y-2">
                            <h3 class="text-lg font-medium subsection-title">Sleep</h3>
                            <div class="space-y-2">
                                <div class="flex items-center space-x-2">
                                    <input 
                                        type="checkbox"
                                        id="sleepTrouble"
                                        name="sleepTrouble"
                                        class="w-4 h-4 custom-checkbox"
                                    >
                                    <label for="sleepTrouble" class="text-blue-400">
                                        Trouble Going to Sleep
                                    </label>
                                </div>

                                <div class="flex items-center space-x-2">
                                    <input 
                                        type="checkbox"
                                        id="sleepMidnight"
                                        name="sleepMidnight"
                                        class="w-4 h-4 custom-checkbox"
                                    >
                                    <label for="sleepMidnight" class="text-blue-400">
                                        Mid-night Waking
                                    </label>
                                </div>

                                <div class="flex items-center space-x-2">
                                    <input 
                                        type="checkbox"
                                        id="sleepSolid"
                                        name="sleepSolid"
                                        class="w-4 h-4 custom-checkbox"
                                    >
                                    <label for="sleepSolid" class="text-blue-400">
                                        Solid Sleep
                                    </label>
                                </div>

                                <div class="flex items-center space-x-2">
                                    <input 
                                        type="checkbox"
                                        id="sleepEarlyMeetings"
                                        name="sleepEarlyMeetings"
                                        class="w-4 h-4 custom-checkbox"
                                    >
                                    <label for="sleepEarlyMeetings" class="text-blue-400">
                                        Early Meetings
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Mood -->
                    <div>
                        <label class="block text-lg font-medium mb-2 field-label">Mood</label>
                        <select 
                            id="mood"
                            name="mood"
                            class="w-full px-3 py-2 rounded-md"
                        >
                            <option value="">How are you feeling?</option>
                            <option value="😊 Great">😊 Great</option>
                            <option value="🙂 Good">🙂 Good</option>
                            <option value="😐 Neutral">😐 Neutral</option>
                            <option value="😕 Poor">😕 Poor</option>
                            <option value="😢 Bad">😢 Bad</option>
                        </select>
                    </div>

                    <!-- Text Areas with consistent styling -->
                    <div>
                        <label class="block text-lg font-medium mb-2 field-label">Learning</label>
                        <textarea
                            id="learning"
                            name="learning"
                            placeholder="What did you learn today?"
                            class="w-full px-3 py-2 rounded-md"
                            rows="3"
                        ></textarea>
                    </div>

                    <div>
                        <label class="block text-lg font-medium mb-2 field-label">Meaning</label>
                        <textarea
                            id="meaning"
                            name="meaning"
                            placeholder="How did you help someone? or What did you do that fulfilled you?"
                            class="w-full px-3 py-2 rounded-md"
                            rows="3"
                        ></textarea>
                    </div>

                    <div>
                        <label class="block text-lg font-medium mb-2 field-label">Key Decisions</label>
                        <textarea
                            id="decisions"
                            name="decisions"
                            placeholder="Are there any important decisions on your mind? Or important decisions made?"
                            class="w-full px-3 py-2 rounded-md"
                            rows="3"
                        ></textarea>
                    </div>

                    <div>
                        <label class="block text-lg font-medium mb-2 field-label">Frustrations</label>
                        <textarea
                            id="frustrations"
                            name="frustrations"
                            placeholder="Was there anything frustrating or worrisome today?"
                            class="w-full px-3 py-2 rounded-md"
                            rows="3"
                        ></textarea>
                    </div>

                    <div>
                        <label class="block text-lg font-medium mb-2 field-label">Bragging Rights</label>
                        <textarea
                            id="braggingRights"
                            name="braggingRights"
                            placeholder="What do you feel proud of?"
                            class="w-full px-3 py-2 rounded-md"
                            rows="3"
                        ></textarea>
                    </div>

                    <!-- Belief Section -->
                    <div class="space-y-3">
                        <label class="block text-lg font-medium field-label">Tricia believes in me because:</label>
                        <div class="space-y-2">
                            <div class="flex items-center space-x-2">
                                <input
                                    type="checkbox"
                                    id="belief1"
                                    name="beliefs"
                                    value="She likes my hair"
                                    class="w-4 h-4 custom-checkbox"
                                >
                                <label for="belief1" class="text-blue-400">She likes my hair</label>
                            </div>

                            <div class="flex items-center space-x-2">
                                <input
                                    type="checkbox"
                                    id="belief2"
                                    name="beliefs"
                                    value="She likes the way I think"
                                    class="w-4 h-4 custom-checkbox"
                                >
                                <label for="belief2" class="text-blue-400">She likes the way I think</label>
                            </div>

                            <div class="flex items-center space-x-2">
                                <input
                                    type="checkbox"
                                    id="belief3"
                                    name="beliefs"
                                    value="I make her laugh"
                                    class="w-4 h-4 custom-checkbox"
                                >
                                <label for="belief3" class="text-blue-400">I make her laugh</label>
                            </div>

                            <div class="flex items-center space-x-2">
                                <input
                                    type="checkbox"
                                    id="belief4"
                                    name="beliefs"
                                    value="She's seen my faults, and she still thinks I'm cool."
                                    class="w-4 h-4 custom-checkbox"
                                >
                                <label for="belief4" class="text-blue-400">She's seen my faults, and she still thinks I'm cool.</label>
                            </div>

                            <div class="space-y-2">
                                <div class="flex items-center space-x-2">
                                    <input
                                        type="checkbox"
                                        id="beliefCustom"
                                        class="w-4 h-4 custom-checkbox"
                                    >
                                    <label for="beliefCustom" class="text-blue-400">None of the above--THIS is why she thinks I'm awesome:</label>
                                </div>
                                <input
                                    type="text"
                                    id="customBeliefReason"
                                    name="customBeliefReason"
                                    placeholder="Share your reason..."
                                    class="w-full px-3 py-2 mt-1 rounded-md"
                                >
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="w-full px-4 py-3 btn-submit text-white rounded-md text-lg font-medium">
                        Save Entry
                    </button>
                </form>
            </div>
        </div>
    </div>

    <div id="success-message" class="max-w-2xl mx-auto mt-4 p-4 bg-green-700 rounded-md text-white text-center hidden">
        Your entry has been saved successfully!
    </div>

    <script>
        // Set today's date as default
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('date').value = today;
            
            // Check for saved client ID
            const savedClientId = localStorage.getItem('greatness360_client_id');
            if (savedClientId) {
                document.getElementById('client-id').value = savedClientId;
                document.getElementById('client-name-display').textContent = `Client ID: ${savedClientId}`;
                document.getElementById('user-identification').classList.add('hidden');
                document.getElementById('main-form').classList.remove('hidden');
            }
            
            // Exercise notes toggle
            const exerciseCheckbox = document.getElementById('exercise');
            const exerciseNotesContainer = document.getElementById('exercise-notes-container');
            
            exerciseCheckbox.addEventListener('change', function() {
                if (this.checked) {
                    exerciseNotesContainer.classList.remove('hidden');
                } else {
                    exerciseNotesContainer.classList.add('hidden');
                }
            });
            
            // Custom belief reason toggle
            const beliefCustomCheckbox = document.getElementById('beliefCustom');
            const customBeliefReasonInput = document.getElementById('customBeliefReason');
            
            beliefCustomCheckbox.addEventListener('change', function() {
                customBeliefReasonInput.disabled = !this.checked;
                if (!this.checked) {
                    customBeliefReasonInput.value = '';
                }
            });
            
            // Start button
            document.getElementById('start-button').addEventListener('click', function() {
                const clientId = document.getElementById('client-id').value.trim();
                if (clientId) {
                    localStorage.setItem('greatness360_client_id', clientId);
                    document.getElementById('client-name-display').textContent = `Client ID: ${clientId}`;
                    document.getElementById('user-identification').classList.add('hidden');
                    document.getElementById('main-form').classList.remove('hidden');
                } else {
                    alert('Please enter your client ID');
                }
            });

// SCRIPT_URL for Google Sheets connection
const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxr6It0dm26oAMU45hpZqvtqYogdGeXXUNqh3FA0alYcZ3d75TjhidA1d2CDZZQb60/exec';

// Form submission
document.getElementById('greatness-form').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Show loading indicator
    const submitButton = this.querySelector('button[type="submit"]');
    const originalButtonText = submitButton.innerHTML;
    submitButton.innerHTML = 'Saving...';
    submitButton.disabled = true;
    
    // Get all form data
    const clientId = localStorage.getItem('greatness360_client_id');
    const date = document.getElementById('date').value;
    const exercise = document.getElementById('exercise').checked;
    const exerciseNotes = document.getElementById('exercise-notes').value;
    const vitaminB = document.getElementById('vitaminB').checked;
    const vitaminD = document.getElementById('vitaminD').checked;
    const probiotics = document.getElementById('probiotics').checked;
    const stillness = document.getElementById('stillness').checked;
    const sleepTrouble = document.getElementById('sleepTrouble').checked;
    const sleepMidnight = document.getElementById('sleepMidnight').checked;
    const sleepSolid = document.getElementById('sleepSolid').checked;
    const sleepEarlyMeetings = document.getElementById('sleepEarlyMeetings').checked;
    const mood = document.getElementById('mood').value;
    const learning = document.getElementById('learning').value;
    const meaning = document.getElementById('meaning').value;
    const decisions = document.getElementById('decisions').value;
    const frustrations = document.getElementById('frustrations').value;
    const braggingRights = document.getElementById('braggingRights').value;
    
    // Get selected belief reasons
    const beliefs = [];
    document.querySelectorAll('input[name="beliefs"]:checked').forEach(function(checkbox) {
        beliefs.push(checkbox.value);
    });
    
    // Add custom belief reason if selected
    const beliefCustom = document.getElementById('beliefCustom').checked;
    const customBeliefReason = document.getElementById('customBeliefReason').value;
    if (beliefCustom && customBeliefReason) {
        beliefs.push(`Custom: ${customBeliefReason}`);
    }
    
    // Prepare data object
    const formData = {
        timestamp: new Date().toISOString(),
        clientId: clientId,
        date: date,
        exercise: exercise ? 'Yes' : 'No',
        exerciseNotes: exerciseNotes,
        vitaminB: vitaminB ? 'Yes' : 'No',
        vitaminD: vitaminD ? 'Yes' : 'No',
        probiotics: probiotics ? 'Yes' : 'No',
        stillness: stillness ? 'Yes' : 'No',
        sleepTrouble: sleepTrouble ? 'Yes' : 'No',
        sleepMidnight: sleepMidnight ? 'Yes' : 'No',
        sleepSolid: sleepSolid ? 'Yes' : 'No',
        sleepEarlyMeetings: sleepEarlyMeetings ? 'Yes' : 'No',
        mood: mood,
        learning: learning,
        meaning: meaning,
        decisions: decisions,
        frustrations: frustrations,
        braggingRights: braggingRights,
        beliefs: beliefs.join(', ')
    };
    
    // Submit to Google Sheets
    fetch(SCRIPT_URL, {
        method: 'POST',
        body: JSON.stringify(formData),
        headers: {
            'Content-Type': 'application/json'
        }
    })
    .then(response => response.json())
    .then(data => {
        console.log('Success:', data);
        
        // Show success message
        document.getElementById('success-message').classList.remove('hidden');
        setTimeout(function() {
            document.getElementById('success-message').classList.add('hidden');
        }, 3000);
        
        // Reset button
        submitButton.innerHTML = originalButtonText;
        submitButton.disabled = false;
        
        // Optionally clear form fields
        // this.reset();
    })
    .catch((error) => {
        console.error('Error:', error);
        alert('There was an error saving your entry. Please try again.');
        
        // Reset button
        submitButton.innerHTML = originalButtonText;
        submitButton.disabled = false;
    });
});
    </script>
